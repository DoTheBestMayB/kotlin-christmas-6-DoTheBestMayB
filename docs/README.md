### 학습 목표
- [ ] 클래스(객체)를 분리
- 클래스의 역할과 책임을 고려하여, 도메인 로직에 집중, UI는 도메인 로직과 분리
- [ ] 단위 테스트 작성

### 기능 목록
- [x] 메뉴를 나타내는 Menu 데이터 클래스를 만든다.
- [x] 메뉴를 관리하는 MenuManager 클래스를 만든다.
  - 구매 가능한 메뉴를 등록할 수 있도록 add 역할의 함수를 만든다.
- [ ] 데이터 검증을 담당하는 Validator 클래스를 만든다.
  - [x] 입력한 방문 날짜가 유효한지 검증하는 함수를 만든다.
- [ ] 입력을 담당하는 InputView 클래스를 만든다.
  - [x] 방문 날짜와 관련된 함수를 만든다.
- [ ] 출력을 담당하는 OutputView 클래스를 만든다.
  - [x] 입력한 문자열을 출력하는 함수를 만든다.
- [ ] 이벤트 배지를 나타내는 BADGE Enum 클래스를 만든다.
- [ ] 이벤트 정보를 나타내는 Event 데이터 클래스를 만든다.
- [ ] 진행 중인 이벤트를 관리하는 EventManager 클래스를 만든다.
- [ ] 할인 정보를 나타내는 Benefit 데이터 클래스를 만든다.
  - Event, Price 2개의 파라미터로 구성되어 있다.
- [ ] 손님에게 방문 날짜와 메뉴를 물어보고, 입력 받은 값을 관리하고,
결과를 도출하기 위해 필요한 클래스를 호출할 수 있는 Planner 클래스를 만든다.
- [ ] 예약 내역을 나타내는 영수증 Receipt 데이터 클래스를 만든다.
- [ ] 주문 정보를 입력하면 영수증인 Receipt을 반환하는 Pos(포스기) 클래스를 만든다.
- [ ] 입출력 값이 동일한지 테스트코드 작성하기
- ~~날짜를 나타내는 Date 데이터 클래스를 만든다.~~
  - ~~날짜를 어떻게 관리해야 할까? 요구사항은 12월만 있으므로, 12월에 대한 객체를 직접 만들까? 혹은 내장 라이브러리를 사용해서 구현해야 할까?~~
  - ~~방문 날짜는 할인과 연관이 크다.~~
  - ~~할인 가능한 날짜에 포함되는지 비교하기 쉽도록 contains opeator 함수를 구현한다.~~

## 기능 요구사항 분석
1. 12월을 위해 이벤트 예산을 넉넉히 확보해 두었으니, 예산은 걱정하지 마세요
2. 메뉴를 Enum, class, data class 중 무엇으로 구현할까?
3. 중복된 할인과 증정을 허용해서, 고객들이 혜택을 많이 받는다는 것을 체감할 수 있게 하는 것
4. 최고의 판매 금액을 달성
5. 12월 이벤트 참여 고객의 5%가 내년 1월 새해 이벤트에 재참여하는 것

### EventManager 클래스, Event 데이터 클래스 구현 세부사항
+ 이벤트 기간
<br/>크리스마스 디데이 할인 : 2023.12.1 ~ 2023.12.25
<br/>다른 할인 : 2023.12.1 ~ 2023.12.31
+ 크리스마스 디데이 할인
<br/>1,000원으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 100원씩 증가
<br/>총주문 금액에서 해당 금액만큼 할인
+ 평일 할인(일요일~목요일) : 디저트 메뉴를 메뉴 1개당 2,023원 할인
+ 주말 할인(금요일, 토요일) : 주말에는 메인 메뉴를 메뉴 1개당 2,023원 할인
+ 특별 할인 : 이벤트 달력에 별이 있으면 총주문 금액에서 1,000원 할인
<br/> 매주 일요일(3, 10, 17, 24, 31), 크리스마스(25)
+ 증정 이벤트 : 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개 증정

### BADGE Enum 클래스 구현 세부사항
총혜택 금액 = 할인 금액의 합계 + 증정 메뉴의 가격

+ 5천 원 이상: 별(STAR)
+ 1만 원 이상: 트리(TREE)
+ 2만 원 이상: 산타(SANTA)
+ 그 외: 없음(NONE)

### EventManager 클래스 구현 세부사항
+ **총주문 금액 10,000원 이상**부터 이벤트가 적용됩니다.
+ 메뉴는 **한 번에 최대 20개**까지만 주문할 수 있습니다.

### Planner 클래스 구현 세부사항
+ 음료만 주문 시, 주문할 수 없습니다.
  + "[ERROR] 음료만 주문할 수 없습니다. 다시 입력해 주세요."를 표시한다.

### '12월 이벤트 플래너' 개발 요청 사항
+ 고객들이 식당에 방문할 날짜와 메뉴를 미리 선택하면 이벤트 플래너가 주문 메뉴, 할인 전 총주문 금액, 증정 메뉴, 혜택 내역, 총혜택 금액, 할인 후 예상 결제 금액, 12월 이벤트 배지 내용을 보여주기
+ 모든 에러 메시지는 "[ERROR]"로 시작하도록 작성

### 방문 날짜 입력 받기
문구: 12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)

조건
<br/> 1. 방문할 날짜는 1 이상 31 이하의 숫자로만
<br/> 2. 1 이상 31 이하의 숫자가 아닌 경우, "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."

### 주문 메뉴와 개수 입력받기
문구 : 주문하실 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)

#### 조건
+ 고객이 메뉴판에 없는 메뉴를 입력하는 경우, "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지
+ 메뉴의 개수는 1 이상의 숫자만 입력되도록 해주세요. 이외의 입력값은 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
+ 메뉴 형식이 예시와 다른 경우, "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
+ 중복 메뉴를 입력한 경우(e.g. 시저샐러드-1,시저샐러드-1), "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.

### Menu 데이터 클래스 구현 세부사항
parameter: type: MENU_TYPE, name: String, price: Int

메뉴 종류를 `MENU_TYPE` Enum 클래스로 관리

```text
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)

```

### Receipt 데이터 클래스 구현 세부사항
```text
orderMenu: List<MENU>, 
originalTotalPrice: String,
GiftMenu: Menu?,
appliedEvent: List<Benefit>,
totalBenefitPrice: Int,
grandTotal: Int,
badge: BADGE,
```
 

+ 주문 메뉴의 출력 순서는 자유롭게 출력해 주세요.
+ 증정 이벤트에 해당하지 않는 경우, 증정 메뉴 "없음"으로 보여 주세요.
+ 혜택 내역
  + 고객에게 적용된 이벤트 내역만 보여 주세요.
  + 적용된 이벤트가 하나도 없다면 혜택 내역 "없음"으로 보여 주세요.
  + 혜택 내역에 여러 개의 이벤트가 적용된 경우, 출력 순서는 자유롭게 출력해주세요.
+ 할인 후 예상 결제 금액 = 할인 전 총주문 금액 - 할인 금액
+ 총혜택 금액에 따라 이벤트 배지의 이름을 다르게 보여 주세요.
  + 이벤트 배지가 부여되지 않는 경우, "없음"으로 보여 주세요.

### 출력 예시
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.

12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)

주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)

```text
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!

<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개

<할인 전 총주문 금액>
142,000원 // Deicmal Foramt 활용

<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원 // -로 표시하는 것에 주의(할인 금액은 +로 관리)
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총혜택 금액>
-31,246원 // -로 표시하는 것에 주의
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```

### 프로그래밍 요구 사항
- [ ] indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.
- [ ] 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
- [ ] 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다.
- [ ] JUnit 5와 AssertJ를 이용하여 본인이 정리한 기능 목록이 정상 동작함을 테스트 코드로 확인한다.
- [ ] else를 지양한다.
- [ ] 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI(System.out, System.in, Scanner) 로직은 제외한다.
- [ ] 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 분리해 구현한다.
- [ ] 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException를 발생시킨다.
  - "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.
  - Exception이 아닌 IllegalArgumentException, IllegalStateException 등과 같은 명확한 유형을 처리한다.
- [ ] camp.nextstep.edu.missionutils에서 제공하는 Console API를 사용하여 구현해야 한다.
  - 사용자가 입력하는 값은 camp.nextstep.edu.missionutils.Console의 readLine()을 활용한다.
- [ ] 아래 있는 InputView, OutputView 클래스를 참고하여 입출력 클래스를 구현한다.
  - 입력과 출력을 담당하는 클래스를 별도로 구현한다.
  - 해당 클래스의 패키지, 클래스명, 메서드의 반환 타입과 시그니처는 자유롭게 구현할 수 있다.
```kotlin
class InputView {
    fun readDate(): Int {
        println("12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)")
        val input = Console.readLine()    
        // ...
    }
    // ...
}
```
```kotlin
class OutputView {
    fun printMenu() {
        println("<주문 메뉴>")
        // ...
    }
    // ...
}
```

### 3주차 피드백
- [ ] 현재 객체의 상태를 보기 위한 로그 메시지 성격이 강하다면 toString()을 통해 구현한다.
  - View에서 사용할 데이터라면 getter 메서드를 통해 데이터를 전달한다.
- [ ] 연관성이 있는 상수는 전역으로 선언하는 대신 enum을 활용한다
- [ ] val 키워드를 사용해 값의 변경을 막는다
- [ ] 객체의 상태 접근을 private 접근자를 사용해서 제한한다
- [ ] getter를 사용하는 대신 객체에 메세지를 보내자
  - https://tecoble.techcourse.co.kr/post/2020-04-28-ask-instead-of-getter/
- [ ] 필드의 수를 줄이기 위해 노력한다
- [ ] 성공하는 케이스 뿐만 아니라 예외에 대한 케이스도 테스트한다
  - 특히 프로그램에서 결함이 자주 발생하는 부분 중 하나는 경계값이므로 이 부분을 꼼꼼하게 확인해야 한다
- [ ] 테스트 코드도 코드이므로 리팩터링을 통해 개선해 나가야 한다
- [ ] 단위 테스트하기 어려운 코드를 단위 테스트하기
  - https://tecoble.techcourse.co.kr/post/2020-05-07-appropriate_method_for_test_by_parameter/
- [ ] private 함수를 테스트 하고 싶다면 클래스(객체) 분리를 고려한다

### 2주차 피드백
- [ ] 값을 하드 코딩하지 않는다
- [ ] 클래스는 프로퍼티, init 블록, 부 생성자, 메서드, 동반 객체 순으로 작성한다
- [ ] 변수 이름에 자료형을 쓰지 않는다.
- [ ] 한 함수가 한 가지 기능만 담당하게 한다.
- [ ] 함수의 길이를 15라인을 넘어가지 않도록 구현한다.
- [ ] 처음부터 큰 단위의 테스트를 만들지 않는다.

### 예외 상황
- [ ] 잘못된 날짜를 입력한다.

### 구현 완료 후 다시 한 번 점검하기
- [ ] 과제 요구사항 놓친 부분 없는지 꼼꼼히 확인한다